## 快速 Diff 算法

### 一、 痛点

![avatar](./images/%E5%BF%AB%E9%80%9F%20Diff%20%E7%AE%97%E6%B3%95.jpg)
通过观察可以发现，两组子节点具有相同的前置节点 p-1，以及相同的后置节点 p-2 和 p-3

### 二、原理

1. 对于相同的前置节点和后置节点，由于它们在新旧两组子节点中的相对位置不变，无须移动它们，打补丁即可，前置节点 `j` 记录索引位置，后置节点 `oldEnd`，`newEnd` 记录索引位置;
2. 满足条件 `j > oldEnd && j <= newEnd`，在 `j -> newEnd` 区间都是要添加的新元素;
3. 满足条件 `j > newEnd && j <= oldEnd `，zai j -> oldEnd 区间都是要卸载的节点。

### 三、 判断是否需要移动

1. 构建一张索引表，用来存储 key 和 节点位置索引之间的映射；
2. 遍历旧的一组子节点剩余未处理的节点，利用索引表，填充 source 数组(存储新的一组子节点中的节点在旧的一组子节点中的位置索引)
